# 项目计划：潜意识能量激活器 (PWA)

## 1. 项目说明

### 1.1 项目概述

本项目旨在开发一个名为“潜意识能量激活器”的渐进式 Web 应用程序 (PWA)。该应用将帮助用户通过自我暗示训练来激发潜意识能量，从而增强自信心，最终实现目标。应用将提供多种训练模式（语音、拖拽、文字输入），支持用户自定义目标句子，设置提醒和重复次数，以及记录训练数据。同时，应用将支持离线使用，并能够将数据同步到云端，从而实现无缝的离线和在线体验。

### 1.2 项目目标

*   开发一个易于使用、界面友好的 PWA 应用。
*   提供多种有效的自我暗示训练模式。
*   支持用户自定义目标句子，并设置为默认。
*   提供个性化训练提醒和重复次数设置。
*   能够记录用户的训练数据和历史。
*   支持离线使用，并能够进行数据云同步。
*   将 PWA 应用打包成 iOS 原生 App，并发布到 App Store。

### 1.3 目标用户

*   希望通过自我暗示训练来提升自信心的人群。
*   希望改变潜意识思维，从而实现目标的人群。
*   对个人成长、自我提升感兴趣的人群。
*   需要一个方便、灵活的训练工具的人群。

### 1.4 竞争优势

*   结合多种训练模式，满足不同用户偏好。
*   用户自定义目标句子，提升个性化体验。
*   支持离线使用和数据云同步，随时随地进行训练。
*   PWA 应用+ iOS 原生 App，提升使用体验。

## 2. 界面设计

### 2.1 页面结构

1.  **欢迎页面:**
    *   应用名称和简要介绍。
    *   “开始训练”按钮。

2.  **训练设置页面:**
    *   训练模式选择 (语音、拖拽、文字输入)。
    *   早、中、晚三个时段的提醒时间选择器。
    *   睡前提醒时间选择器。
    *   每次训练重复次数的输入框。
    *   目标句子管理区域：
        *   “添加新目标句子”的文本输入框和按钮。
        *   用户自定义的句子列表，可选择默认句子。
        *   每个句子带有编辑、删除按钮。
    *   “保存设置”按钮。

3.  **训练页面:**
    *   根据训练模式，显示不同的 UI：
        *   **语音模式:** 录音按钮、倒计时（可选）、文字识别结果显示、提交按钮。
        *   **拖拽模式:** 打乱顺序的目标句子、可拖拽的文字块、提交按钮。
        *   **文字输入模式:** 文本输入框、提交按钮。
    *   训练进度条或计数器（显示当前已完成的训练次数/总次数）。

4.  **结果记录页面:**
    *   日历，显示每日训练记录。
    *   点击日期，查看详细训练情况。

### 2.2 UI 设计原则

*   **简洁：** 界面简洁直观，避免过多的干扰元素。
*   **易用：** 操作流程简单易懂，用户可以快速上手。
*   **美观：** 采用现代化的设计风格，颜色搭配协调。
*   **响应式：** 确保在各种设备上都能良好显示。

## 3. 技术实现

### 3.1 技术栈

*   **前端:**
    *   React (UI 框架)
    *   `ios-pwa-wrap` (PWA 构建工具)
    *   `triplit` (本地数据库和云端同步解决方案)
    *   Web Speech API (语音识别)
    *   Web Notifications API (浏览器通知)
*   **后端:** (可选) Node.js 或其他后端语言（用于 triplit 的云同步服务）
*   **构建工具:** `npm` 和 `webpack`
*   **IDE:** VS Code

### 3.2 核心功能实现

1.  **`triplit` 集成：**
    *   初始化 `triplit` 客户端，配置同步地址。
    *   定义数据 schema（句子、训练记录、用户设置）。
    *   实现数据读写、更新、删除操作。
    *   处理离线和在线状态切换。
2.  **用户界面：**
    *   使用 React 组件构建各个页面。
    *   使用 CSS 实现美观的界面效果。
    *   使用响应式布局适配不同设备。
3.  **训练模式实现：**
    *   **语音模式:** 使用 Web Speech API 实现语音识别，并进行文字匹配。
    *   **拖拽模式:** 使用拖拽 API 实现文字块拖拽排序，并检查顺序是否正确。
    *   **文字输入模式:** 实现文本输入框，并检查输入是否正确。
4.  **用户设置：**
    *   使用选择器和输入框，实现提醒时间设置和重复次数设置。
    *   实现目标句子的添加、删除、编辑功能。
    *   实现默认句子的选择和存储。
5.  **定时提醒：**
    *   使用 Web Notifications API 发送浏览器通知。
    *   使用 `setTimeout` 和 `setInterval` 实现定时检查提醒时间。
6.  **数据存储：**
    *   使用 `triplit` 存储训练记录、用户设置、目标句子等数据。
    *   实现数据云同步。
7.  **PWA 功能:**
    *   配置 `manifest.json`。
    *   编写 `service-worker.js` 处理离线访问。
    *   确保 PWA 满足 PWA 标准。
8.  **iOS 原生 App 打包：**
    *   使用 `ios-pwa-wrap` 打包 PWA 应用成 iOS 原生 App。
    *   使用 Xcode 调试应用，确保在 iOS 设备上正常运行。

## 4. 开发阶段

### 4.1 阶段一：原型开发 (1周)

*   **目标：** 实现应用的基本框架和核心功能。
*   **任务：**
    *   搭建项目结构，初始化 `ios-pwa-wrap` 和 React 项目。
    *   集成 `triplit`，连接云端同步服务。
    *   创建基本 UI 组件 (训练模式选择、训练设置、训练页面)。
    *   实现简单的语音、拖拽和文字输入训练逻辑。
    *   实现目标句子的添加、删除功能。
    *   测试 PWA 的基本功能。

### 4.2 阶段二：功能完善 (2周)

*   **目标：** 实现所有核心功能，并优化用户体验。
*   **任务：**
    *   实现用户设置功能，包括提醒时间和重复次数设置。
    *   实现自定义句子功能，包括编辑和选择默认。
    *   完善训练页面的 UI 和逻辑。
    *   使用 Web Speech API 实现语音识别功能。
    *   使用 Web Notifications API 实现定时提醒功能。
    *   添加训练结果记录功能，显示训练历史。
    *    完善数据同步功能，确保离线和在线状态下正常运行。

### 4.3 阶段三：PWA 适配和优化 (1周)

*   **目标：** 适配 PWA 标准，优化性能。
*   **任务：**
    *   配置 `manifest.json`。
    *   编写 `service-worker.js` 处理离线访问。
    *   优化应用性能，如代码分割，图片优化等。
    *   全面测试应用的兼容性和稳定性。
    *   完善错误处理机制。

### 4.4 阶段四： iOS 打包和发布 (1周)

*   **目标：** 将 PWA 应用打包成 iOS 原生 App，并发布到 App Store。
*   **任务：**
    *   使用 `ios-pwa-wrap` 打包 PWA 应用成 iOS 原生 App。
    *   配置 Xcode 项目，进行编译和调试。
    *   提交应用到 App Store，准备发布。

### 4.5 阶段五：测试与发布 （1周）
*  **目标**： 完成测试，发布到市场
*   **任务：**
    *   充分测试，用户体验，可用性，并修改bug
    *   发布到市场，并收集用户反馈

### 4.6 后期维护
*   持续收集用户反馈，不断完善产品
*  修复bug
*  添加新功能

## 5. 时间规划
总共时间：6 周
*  原型开发 1周
*  功能完善 2周
*  PWA适配与优化 1周
*  iOS 打包和发布 1周
*  测试与发布 1周

## 6. 风险评估
*  技术风险： 对新框架和工具的学习，以及解决兼容性问题
*  时间风险：  功能开发和测试时间需要规划
*  资源风险： 确保人力和技术资源足够支持项目开展

## 7. 团队角色
*   项目经理：负责整个项目规划和执行
*   UI/UX设计师：负责界面设计和用户体验优化
*   前端开发：负责界面实现和功能开发
*   测试工程师：负责测试和质量保障

## 8. 沟通机制
*  每日站会： 汇报进度和问题
*  周会：  讨论项目进展，问题解决，风险评估
*  文档： 使用文档记录项目进展和会议纪要
*  及时沟通：团队成员之间要及时沟通，确保信息同步

## 9. 版本控制
使用 git 进行版本控制，所有代码提交都需要 review，并保留 commit 记录。

## 10. 总结

本项目旨在开发一个用户友好的 PWA 应用，帮助用户通过自我暗示训练提升自信心。通过合理的时间规划和团队协作，我们有信心按时完成项目，并为用户提供一个有价值的产品。
